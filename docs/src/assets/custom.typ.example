// Example custom.typ file showing various customization options
// Copy this to docs/src/assets/custom.typ and modify as needed

// ==============================================================================
// EXAMPLE 1: Simple codly configuration (line numbers and zebra stripes)
// ==============================================================================

// Uncomment to enable code block features:
/*
#let config = (
  codly-options: (
    number-format: num => text(fill: gray)[#num],  // Show line numbers
    zebra-fill: luma(250),  // Alternate row background
  ),
)
*/

// ==============================================================================
// EXAMPLE 2: Custom codly languages
// ==============================================================================

/*
#import "@preview/codly-languages:0.1.10": *

// Define custom language highlighting
#let my-custom-langs = codly-languages + (
  // Add or override language definitions
  mylang: (
    name: "MyLang",
    // ... language definition
  ),
)

#let config = (
  codly-options: (
    languages: my-custom-langs,
  ),
)
*/

// ==============================================================================
// EXAMPLE 3: Use builtin Typst code rendering (no codly)
// ==============================================================================

/*
#let config = (
  codeblock-engine: "builtin",
  codeblock-background: rgb("f0f0f0"),
  codeblock-border: rgb("d0d0d0"),
)
*/

// ==============================================================================
// EXAMPLE 4: Disable header
// ==============================================================================

/*
#let config = (
  header-mode: "none",
)
*/

// ==============================================================================
// EXAMPLE 4a: Left-aligned chapter header
// ==============================================================================

/*
#let config = (
  header-alignment: left,  // Change default header alignment
)
*/

// ==============================================================================
// EXAMPLE 5: Custom header function
// ==============================================================================

/*
#let my-custom-header(loc, cfg) = {
  if loc.page() <= 1 { return }
  
  align(right)[
    #text(10pt, fill: gray)[
      My Documentation · Page #loc.page()
    ]
  ]
  line(length: 100%, stroke: 0.5pt + gray)
}

#let config = (
  header-mode: "custom",
  header-custom-function: my-custom-header,
)
*/

// ==============================================================================
// EXAMPLE 6: Custom footer with copyright
// ==============================================================================

/*
#let my-footer(loc, cfg) = {
  if loc.page() <= 1 { return }
  
  // Skip part pages
  let parts_on_page = query(heading.where(level: 1)).filter(h => h.location().page() == loc.page())
  if parts_on_page.len() > 0 { return }
  
  grid(
    columns: (1fr, auto, 1fr),
    align: (left, center, right),
    text(9pt, fill: gray)[© 2025 My Company],
    text(11pt)[#counter(page).display()],
    text(9pt, fill: gray)[Internal Documentation],
  )
}

#let config = (
  footer-mode: "custom",
  footer-custom-function: my-footer,
)
*/

// ==============================================================================
// EXAMPLE 7: Chinese page numbering
// ==============================================================================

/*
#let chinese-page-number(nums, cfg) = {
  let page-num = nums.first()
  [第 #page-num 页]  // "Page N" in Chinese
}

#let config = (
  page-numbering-custom: chinese-page-number,
)
*/

// ==============================================================================
// EXAMPLE 8: Custom code block renderer (complete control)
// ==============================================================================

/*
#let my-code-renderer(it) = {
  if it.block {
    // Block code: fancy styling with gradient background
    block(
      width: 100%,
      fill: gradient.linear(
        rgb("e8f4f8"),
        rgb("f0f8ff"),
      ),
      stroke: 2pt + rgb("4a9eff"),
      inset: 12pt,
      radius: 5pt,
      breakable: true,
    )[
      #set text(font: "JetBrains Mono", size: 9pt)
      #if it.lang != none {
        text(weight: "bold", fill: rgb("4a9eff"))[#it.lang]
        linebreak()
      }
      #it
    ]
  } else {
    // Inline code: simple box
    box(
      fill: rgb("f5f5f5"),
      inset: (x: 3pt, y: 1pt),
      outset: (y: 3pt),
      radius: 2pt,
    )[
      #set text(font: "JetBrains Mono")
      #it
    ]
  }
}

#let config = (
  codeblock-engine: "custom",
  codeblock-custom-show: my-code-renderer,
)
*/

// ==============================================================================
// EXAMPLE 9: Comprehensive customization
// ==============================================================================

/*
// Custom header showing chapter info
#let my-header(loc, cfg) = {
  if loc.page() <= 1 { return }
  
  let parts_on_page = query(heading.where(level: 1)).filter(h => h.location().page() == loc.page())
  if parts_on_page.len() > 0 { return }
  
  let chapters_on_page = query(heading.where(level: 2)).filter(h => h.location().page() == loc.page())
  if chapters_on_page.len() > 0 { return }
  
  // Find current chapter
  let all_chapters = query(heading.where(level: 2))
  let current_chapter = none
  for ch in all_chapters {
    if ch.location().page() <= loc.page() {
      current_chapter = ch
    } else {
      break
    }
  }
  
  if current_chapter != none {
    grid(
      columns: (1fr, auto),
      align: (left, right),
      text(10pt, fill: cfg.dark-blue)[#current_chapter.body],
      text(10pt, fill: gray)[Page #loc.page()],
    )
    line(length: 100%, stroke: 0.5pt + cfg.dark-blue)
  }
}

// Custom footer with document info
#let my-footer(loc, cfg) = {
  if loc.page() <= 1 { return }
  
  let parts_on_page = query(heading.where(level: 1)).filter(h => h.location().page() == loc.page())
  if parts_on_page.len() > 0 { return }
  
  align(center)[
    #text(10pt)[#counter(page).display()]
  ]
}

#let config = (
  // Code blocks with line numbers
  codly-options: (
    number-format: num => text(fill: gray)[#num],
  ),
  
  // Custom header and footer
  header-mode: "custom",
  header-custom-function: my-header,
  footer-mode: "custom",
  footer-custom-function: my-footer,
  
  // Custom colors
  dark-blue: rgb("2e5cb8"),
  light-blue: rgb("5a8dd6"),
  
  // Larger text
  text-size: 12pt,
  code-size: 10pt,
)
*/

// ==============================================================================
// EXAMPLE 10: Minimal header/footer (just page numbers)
// ==============================================================================

/*
#let config = (
  header-mode: "none",
  footer-alignment: right, // or left, or center
)
*/

// ==============================================================================
// EXAMPLE 11: Different page numbering for frontmatter and mainmatter
// ==============================================================================

/*
#let config = (
  page-numbering-frontmatter: "I", // Roman uppercase
  page-numbering-mainmatter: "1 / 1", // Page X of Y format
)
*/
